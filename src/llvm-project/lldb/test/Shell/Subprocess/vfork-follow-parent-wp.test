# REQUIRES: native && dbregs-set
## TODO: ABI plugin hasn't been implemented for LoongArch.
# UNSUPPORTED: system-windows, loongarch64
# UNSUPPORTED: system-darwin
# RUN: %clangxx_host -g %p/Inputs/fork.cpp -DTEST_FORK=vfork -o %t
# RUN: %lldb -b -s %s %t | FileCheck %s
process launch -s
watchpoint set variable -w write g_val
# CHECK: Watchpoint created:
continue
# CHECK-NOT: function run in parent
# CHECK: stop reason = watchpoint
continue
# CHECK: function run in parent
# CHECK: child exited: 0
